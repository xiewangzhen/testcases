<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Case Portfolio | Liu Xuanyi</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --primary-color: #38bdf8;
            --secondary-color: #818cf8;
            --text-main: #f1f5f9;
            --text-sub: #94a3b8;
            --border-color: #334155;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- Header --- */
        header {
            text-align: center;
            padding: 3rem 1rem;
            background: radial-gradient(circle at top, #1e293b 0%, #0f172a 100%);
            border-bottom: 1px solid var(--border-color);
        }

        h1 {
            font-size: 2.2rem;
            margin: 0 0 0.5rem 0;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            color: var(--text-sub);
            font-size: 1rem;
        }

        /* --- Breadcrumb Navigation (é¢åŒ…å±‘) --- */
        .breadcrumb-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            width: 100%;
            box-sizing: border-box;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
            color: var(--text-sub);
        }

        .breadcrumb span {
            cursor: pointer;
            transition: color 0.2s;
        }

        .breadcrumb span:hover {
            color: var(--primary-color);
        }

        .breadcrumb .separator {
            margin: 0 0.5rem;
            color: #475569;
            cursor: default;
        }

        .breadcrumb .current {
            color: var(--primary-color);
            font-weight: 600;
            cursor: default;
        }

        /* --- Main Layout --- */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem 4rem 2rem;
            width: 100%;
            box-sizing: border-box;
            flex-grow: 1;
        }

        /* View Section Logic */
        .view-section {
            display: none; /* é»˜è®¤éšè—æ‰€æœ‰è§†å›¾ */
            animation: fadeIn 0.4s ease;
        }

        .view-section.active {
            display: block; /* æ¿€æ´»æ—¶æ˜¾ç¤º */
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Grid System */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 1rem;
        }

        /* --- Category Cards (é¦–é¡µå¤§åˆ†ç±») --- */
        .category-card {
            background: linear-gradient(145deg, #1e293b, #162032);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .category-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
            box-shadow: 0 10px 30px rgba(56, 189, 248, 0.15);
        }

        .cat-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: inline-block;
        }

        .cat-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 0.5rem;
        }

        .cat-desc {
            color: var(--text-sub);
            font-size: 0.95rem;
        }

        .cat-count {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(56, 189, 248, 0.1);
            color: var(--primary-color);
            padding: 2px 10px;
            border-radius: 10px;
            font-size: 0.8rem;
        }

        /* --- Item Cards (å…·ä½“ç”¨ä¾‹å¡ç‰‡) --- */
        .item-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
        }

        .item-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
        }

        .preview-box {
            height: 160px;
            background-color: #334155;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            cursor: pointer;
        }

        .preview-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .item-card:hover .preview-box img {
            transform: scale(1.05);
        }

        .card-body {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .card-title {
            margin: 0 0 0.5rem 0;
            font-size: 1.2rem;
        }

        .card-text {
            color: var(--text-sub);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            flex-grow: 1;
        }

        .btn-group {
            display: flex;
            gap: 10px;
        }

        .btn {
            flex: 1;
            padding: 0.5rem;
            text-align: center;
            border-radius: 6px;
            text-decoration: none;
            font-size: 0.85rem;
            cursor: pointer;
            border: none;
            transition: background 0.2s;
        }

        .btn-primary { background: var(--primary-color); color: #0f172a; font-weight: 600; }
        .btn-primary:hover { background: #7dd3fc; }
        .btn-outline { border: 1px solid #475569; color: var(--text-main); display: flex; align-items: center; justify-content: center; }
        .btn-outline:hover { background: #334155; }

        /* --- Lightbox --- */
        #lightbox {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        #lightbox.active { display: flex; }
        #lightbox img { max-width: 90%; max-height: 85vh; border-radius: 8px; box-shadow: 0 0 50px rgba(0,0,0,0.5); }
        .close-lb { position: absolute; top: 20px; right: 30px; color: white; font-size: 2rem; cursor: pointer; }

    </style>
</head>
<body>

    <header>
        <h1>Liu Xuanyi's Portfolio</h1>
        <p class="subtitle">æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆ Â· Test Case Design & Architecture</p>
    </header>

    <div class="breadcrumb-container">
        <div class="breadcrumb" id="breadcrumb-nav">
            <span class="current">é¦–é¡µ Home</span>
        </div>
    </div>

    <main>
        <section id="view-home" class="view-section active">
            <div class="grid">
                <div class="category-card" onclick="navigateTo('business')">
                    <span class="cat-count">3 items</span>
                    <div class="cat-icon">ğŸ¢</div>
                    <div class="cat-title">ä¸šåŠ¡åŠŸèƒ½æµ‹è¯•</div>
                    <div class="cat-desc">åŒ…å«ç™»å½•ã€è´­ç‰©è½¦ã€æœç´¢ç­‰æ ¸å¿ƒä¸šåŠ¡æ¨¡å—çš„åŠŸèƒ½é€»è¾‘è¦†ç›–ã€‚</div>
                </div>

                <div class="category-card" onclick="navigateTo('scenario')">
                    <span class="cat-count">2 items</span>
                    <div class="cat-icon">ğŸ’¥</div>
                    <div class="cat-title">å¼‚å¸¸åœºæ™¯æµ‹è¯•</div>
                    <div class="cat-desc">æ”¯ä»˜ä¸­æ–­ã€å¼±ç½‘ã€é«˜å¹¶å‘ç­‰å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹çš„å¥å£®æ€§æµ‹è¯•ã€‚</div>
                </div>

                <div class="category-card" onclick="navigateTo('framework')">
                    <span class="cat-count">1 item</span>
                    <div class="cat-icon">ğŸ› ï¸</div>
                    <div class="cat-title">æµ‹è¯•æ¶æ„ & å·¥å…·</div>
                    <div class="cat-desc">æ¥å£è‡ªåŠ¨åŒ–æ¡†æ¶è®¾è®¡ã€CICD æµæ°´çº¿é…ç½®ä¸è´¨é‡é—¨ç¦ã€‚</div>
                </div>
            </div>
        </section>

        <section id="view-business" class="view-section">
            <div class="grid">
                <article class="item-card">
                    <div class="preview-box" onclick="openLightbox('assets/images/login-case.png')">
                        <img src="assets/images/login-case.png" alt="ç™»å½•æµ‹è¯•">
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">ç”¨æˆ·ç™»å½•æ¨¡å—</h3>
                        <p class="card-text">è¦†ç›–SSOå•ç‚¹ç™»å½•ã€OAuth2.0æˆæƒã€å¤šç«¯äº’è¸¢æœºåˆ¶åŠå¼‚å¸¸è¾“å…¥æ ¡éªŒã€‚</p>
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="openLightbox('assets/images/login-case.png')">é¢„è§ˆè„‘å›¾</button>
                            <a href="assets/files/login.xmind" class="btn btn-outline" download>ä¸‹è½½ Xmind</a>
                        </div>
                    </div>
                </article>

                <article class="item-card">
                    <div class="preview-box" onclick="openLightbox('assets/images/search-case.png')">
                        <img src="assets/images/search-case.png" alt="æœç´¢æµ‹è¯•">
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">å•†å“æœç´¢æ¨¡å—</h3>
                        <p class="card-text">åŒ…å«è”æƒ³è¯æ¨èã€ç‰¹æ®Šå­—ç¬¦è¿‡æ»¤ã€ç»“æœæ’åºæƒé‡åŠç­›é€‰å™¨ç»„åˆæµ‹è¯•ã€‚</p>
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="openLightbox('assets/images/search-case.png')">é¢„è§ˆè„‘å›¾</button>
                            <a href="assets/files/search.xmind" class="btn btn-outline" download>ä¸‹è½½ Xmind</a>
                        </div>
                    </div>
                </article>
                
                <article class="item-card">
                    <div class="preview-box" onclick="openLightbox('assets/images/cart-case.png')">
                        <img src="assets/images/cart-case.png" alt="è´­ç‰©è½¦æµ‹è¯•">
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">è´­ç‰©è½¦é€»è¾‘</h3>
                        <p class="card-text">å•†å“å¤±æ•ˆå¤„ç†ã€ä»·æ ¼å˜åŠ¨æç¤ºã€æœ€å¤§SKUæ•°é‡é™åˆ¶åŠåº“å­˜é¢„å é€»è¾‘ã€‚</p>
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="openLightbox('assets/images/cart-case.png')">é¢„è§ˆè„‘å›¾</button>
                            <a href="assets/files/cart.xmind" class="btn btn-outline" download>ä¸‹è½½ Xmind</a>
                        </div>
                    </div>
                </article>
            </div>
        </section>

        <section id="view-scenario" class="view-section">
            <div class="grid">
                <article class="item-card">
                    <div class="preview-box" onclick="openLightbox('assets/images/payment-case.png')">
                        <img src="assets/images/payment-case.png" alt="æ”¯ä»˜å¼‚å¸¸">
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">è®¢å•æ”¯ä»˜å¼‚å¸¸æµ</h3>
                        <p class="card-text">ç¬¬ä¸‰æ–¹å›è°ƒå»¶è¿Ÿã€é‡å¤å›è°ƒå¹‚ç­‰æ€§æ ¡éªŒã€é‡‘é¢ç¯¡æ”¹æ”»é˜²æµ‹è¯•ã€‚</p>
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="openLightbox('assets/images/payment-case.png')">é¢„è§ˆè„‘å›¾</button>
                            <a href="assets/files/payment.xmind" class="btn btn-outline" download>ä¸‹è½½ Xmind</a>
                        </div>
                    </div>
                </article>

                <article class="item-card">
                    <div class="preview-box" onclick="openLightbox('assets/images/concurrency.png')">
                        <img src="assets/images/concurrency.png" alt="å¹¶å‘æµ‹è¯•">
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">ç§’æ€åº“å­˜å¹¶å‘</h3>
                        <p class="card-text">é’ˆå¯¹ Redis åº“å­˜é¢„æ‰£å‡ä¸ DB æ•°æ®ä¸€è‡´æ€§çš„é«˜å¹¶å‘åœºæ™¯è®¾è®¡ã€‚</p>
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="openLightbox('assets/images/concurrency.png')">é¢„è§ˆè„‘å›¾</button>
                            <a href="assets/files/concurrency.xmind" class="btn btn-outline" download>ä¸‹è½½ Xmind</a>
                        </div>
                    </div>
                </article>
            </div>
        </section>

        <section id="view-framework" class="view-section">
            <div class="grid">
                <article class="item-card">
                    <div class="preview-box" onclick="openLightbox('assets/images/api-framework.png')">
                        <img src="assets/images/api-framework.png" alt="æ¡†æ¶è®¾è®¡">
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">API è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶</h3>
                        <p class="card-text">åŸºäº Pytest + Allure + Requests çš„åˆ†å±‚è®¾è®¡ï¼Œå®ç°æ•°æ®é©±åŠ¨æµ‹è¯•ã€‚</p>
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="openLightbox('assets/images/api-framework.png')">é¢„è§ˆè„‘å›¾</button>
                            <a href="assets/files/framework.xmind" class="btn btn-outline" download>ä¸‹è½½ Xmind</a>
                        </div>
                    </div>
                </article>
            </div>
        </section>

    </main>

    <div id="lightbox" onclick="closeLightbox(event)">
        <div class="close-lb" onclick="closeLightbox(event)">Ã—</div>
        <img id="lb-img" src="" alt="Full Preview">
    </div>

    <script>
        // å®šä¹‰é¡µé¢å±‚çº§åç§°æ˜ å°„
        const viewTitles = {
            'home': 'é¦–é¡µ Home',
            'business': 'ä¸šåŠ¡åŠŸèƒ½æµ‹è¯• Business Logic',
            'scenario': 'å¼‚å¸¸åœºæ™¯æµ‹è¯• Scenario Cases',
            'framework': 'æ¶æ„è®¾è®¡ Architecture'
        };

        // æ ¸å¿ƒå¯¼èˆªå‡½æ•°
        function navigateTo(viewId) {
            // 1. éšè—æ‰€æœ‰ section
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            
            // 2. æ˜¾ç¤ºç›®æ ‡ section
            const target = document.getElementById('view-' + viewId);
            if (target) {
                target.classList.add('active');
            }

            // 3. æ›´æ–°é¢åŒ…å±‘
            updateBreadcrumb(viewId);

            // 4. æ›´æ–° URL å†å²è®°å½• (æ”¯æŒæµè§ˆå™¨åé€€)
            // é¿å…é‡å¤ push ç›¸åŒçš„ state
            if (!history.state || history.state.view !== viewId) {
                history.pushState({ view: viewId }, null, `?view=${viewId}`);
            }

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        }

        // æ›´æ–°é¢åŒ…å±‘ UI
        function updateBreadcrumb(viewId) {
            const nav = document.getElementById('breadcrumb-nav');
            if (viewId === 'home') {
                nav.innerHTML = `<span class="current">é¦–é¡µ Home</span>`;
            } else {
                nav.innerHTML = `
                    <span onclick="navigateTo('home')">é¦–é¡µ Home</span>
                    <span class="separator">/</span>
                    <span class="current">${viewTitles[viewId] || 'Details'}</span>
                `;
            }
        }

        // ç›‘å¬æµè§ˆå™¨åé€€æŒ‰é’®
        window.addEventListener('popstate', (event) => {
            const state = event.state;
            if (state && state.view) {
                // å¦‚æœæœ‰çŠ¶æ€ï¼Œæ¢å¤åˆ°è¯¥çŠ¶æ€ï¼ˆä¸pushå†å²ï¼Œåªåˆ‡æ¢UIï¼‰
                restoreView(state.view);
            } else {
                // é»˜è®¤å›é¦–é¡µ
                restoreView('home');
            }
        });

        // æ¢å¤è§†å›¾ï¼ˆä¸æ“ä½œhistoryï¼‰
        function restoreView(viewId) {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            const target = document.getElementById('view-' + viewId);
            if(target) target.classList.add('active');
            updateBreadcrumb(viewId);
        }

        // --- Lightbox é€»è¾‘ ---
        function openLightbox(src) {
            document.getElementById('lb-img').src = src;
            document.getElementById('lightbox').classList.add('active');
        }

        function closeLightbox(e) {
            // åªæœ‰ç‚¹å‡»èƒŒæ™¯æˆ–å…³é—­æŒ‰é’®æ‰å…³é—­
            if(e.target.id === 'lightbox' || e.target.classList.contains('close-lb')) {
                document.getElementById('lightbox').classList.remove('active');
            }
        }

        // åˆå§‹åŒ–ï¼šæ£€æŸ¥ URL å‚æ•°ï¼Œå¦‚æœæœ‰ ?view=business ç›´æ¥è·³è½¬ï¼Œå¦åˆ™æ˜¾ç¤ºé¦–é¡µ
        const urlParams = new URLSearchParams(window.location.search);
        const initialView = urlParams.get('view') || 'home';
        restoreView(initialView);

    </script>
</body>
</html>